description = "다음 작업 자동 선택 및 즉시 구현. Use when: 뭐 할까, 다음, 시작, next, what's next"

prompt = """
# 다음 작업 자동 선택

TODO, plan, 개선 아이디어에서 다음 작업을 찾아 즉시 구현을 시작합니다.

## 작업 소스 스캔 순서

1. **TODO In Progress** - 이미 진행 중인 작업 (최우선)
2. **TODO Pending** - 대기 중인 작업
3. **Plan 문서** - `common/docs/plan/*.md` 및 연결된 `_todo.md`
4. **개선 아이디어** - `common/docs/*improvement*.md` (P0 → P1 순)

## 스캔 범위 옵션

- `/next`: 기본 경량 스캔
- `/next --all`: 전체 프로젝트 및 전역 plan 폴더 모든 영역 조사

## 스캔 제외 대상

- `MANUAL_TASKS.md` : 완전 제외
- 항목명 옆에 `(→ MANUAL_TASKS)` 플래그가 붙은 라인
- 문서 상단 상태에 `구현완료` 혹은 `보류` 명시가 있는 문서 전체

## Workflow

### 0단계: wtools/TODO.md 최신 여부 확인

`wtools/TODO.md` 파일에 기록된 날짜를 확인합니다. 오늘 날짜가 아닐 경우 내용 갱신 후 스캔 속행.

### 1단계: 작업 소스 스캔

**스캔 대상:**
```
D:\work\project\service\wtools\
├── {project}/TODO.md
├── common/docs/plan/*.md
└── common/docs/*improvement*.md
```

### 2단계: 작업 선택 출력

선택된 작업 정보를 출력합니다:
- 소스 파일, 프로젝트명, 작업 내용, 우선순위

### 3단계: implement 워크플로우로 전환

작업이 선택되면 `/implement` 워크플로우를 따라 **plan → TODO → DONE** 사이클을 엄격히 실행합니다.

## 선택 우선순위

```
TODO In Progress > TODO Pending > Plan 문서 > 개선 아이디어(P0) > 개선 아이디어(P1)
```

{{args}}
"""
