description = "git pull 후 plan/TODO 자동 동기화. Use when: 풀 동기화, pull sync, 풀 받아, pull, 업데이트 받아"

prompt = """
# 풀 동기화 (Pull & Sync)

리파지토리들을 최신화하고 원격 변경점들과 문서 현황을 자동 동기화합니다.

## Workflow

### 1단계: 병렬 git pull

전체 프로젝트(루트 포함)를 대상으로 다음을 검토하고 pull 합니다:
- **스킵 조건 1**: 워킹 트리에 커밋하지 않은 로컬 변경본이 존재 시 병합을 스킵합니다.
- **스킵 조건 2**: 해당 레포가 현재 `main` 브랜치가 아닌 경우 스킵합니다.
- 모든 스캔 완료 이후 개별 프로젝트별 Pull 수행 결과 테이블을 출력합니다.

### 2단계: plan 변경 감지

`git diff --name-only ORIG_HEAD HEAD` 등으로 원격에서 새롭게 받아 온 diff 내역에 plan 파일이 포함되어 있는지 감지/추출합니다.

### 3단계: 동기화 처리

- **완료된 plan**: `docs/archive/` 로 이동 후, 대상 프로젝트 `DONE.md` 와 연계하여 업데이트.
- **미완료 plan**: 잔여 진척도를 기반으로 `TODO.md`에 진행률 및 현황 반영.

### 4단계: 커밋

문서의 상태 변동이나 경로 이동에 의한 발생 변경점들을 묶어 단일 커밋으로 고정합니다.

{{args}}
"""
