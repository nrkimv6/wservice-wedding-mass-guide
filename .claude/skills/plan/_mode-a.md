# 모드 A: 짧은 계획 (한눈에 읽히는 분량)

plan 문서 **하나에 분석 + TODO를 모두 포함**한다. 별도 파일 생성 안 함.

## 판단 기준

- Phase 1-4개, 원자 작업 20개 이하
- "이 문서를 처음 보는 사람이 한 번에 읽을 수 있는가?" → 맞으면 모드 A

## ⚠️ 상태헤더 규칙

> 아래 4줄 `>` 블록쿼트를 **정확히** 따를 것. 순서·형식 변경 금지.
> 이 형식 외의 헤더(한줄, 대시 등)는 사용하지 않는다.

## 템플릿

```markdown
# {제목}

> 작성일: YYYY-MM-DD
> 대상 프로젝트: {project-name | 공통}
> 상태: 초안
> 진행률: 0/N (0%)

---

## 개요

{배경 및 목적 설명}

## 기술적 고려사항

- {고려사항}

---

## TODO

### Phase 1: {이름}

1. [ ] **{상위 작업}** — 개념적 단위
   - [ ] `{파일}`: {구체적 변경 내용}
   - [ ] `{파일}`: {구체적 변경 내용}

### Phase 2: {이름}

2. [ ] **{상위 작업}** — 개념적 단위
   - [ ] `{파일}`: {구체적 변경 내용}

---

## 백엔드/Python 변경 시 테스트 필수 규칙

백엔드 API 또는 Python 스크립트 수정이 포함된 Phase가 있으면:

1. **함수별 2레벨 TC TODO** 필수 추가:
   - [ ] `function_name()` 구현
     - [ ] 구현: {핵심 로직 설명}
     - [ ] TC-Right: 정상 케이스
     - [ ] TC-Boundary: 경계값/빈값
     - [ ] TC-Error: 에러/예외 케이스
     - [ ] TC-Cross: 교차 검증 (해당 시)

2. **e2e HTTP 테스트** 항목 필수:
   - [ ] e2e: `{METHOD} {endpoint}` 정상 응답 검증
   - [ ] e2e: `{METHOD} {endpoint}` 에러 응답 검증

기존 프로젝트 테스트 패턴(pytest, fixtures 등)을 따를 것.

---

## 검증 (Python 코드 수정 시 필수)

### 테스트 실행

\```powershell
python -m pytest {테스트 경로} -v --timeout=30
\```

- 기대 결과: {N} passed, 실행시간 < {M}초

### 회귀 확인

\```powershell
python -m pytest {전체 테스트 경로} -v --timeout=30 --ignore={신규 테스트}
\```

### 검증 기준

- [ ] 새 테스트 전부 passed
- [ ] 기존 테스트 회귀 없음
- [ ] {프로젝트별 추가 기준}

---

*상태: 초안 | 진행률: 0/N (0%)*
```

## 파일 위치

**프로젝트가 정해진 경우:** `{project}/docs/plan/YYYY-MM-DD_{주제}.md`
**공통/복수 프로젝트:** plan은 `common/docs/plan/`에, **TODO는 각 프로젝트별로 분리 생성**

## 후속 처리

1. `{project}/TODO.md` Pending에 참조 항목 추가:
   ```
   - [ ] **{제목}** — [plan]({상대경로}) (0/N, 0%)
   ```
2. SKILL.md 4단계(wtools/TODO.md 동기화)로 복귀
